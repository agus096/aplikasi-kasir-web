<?php

 function pilter ($kon,$inputan) {
    $asli =
    array(
        'SELECT',
        'LIMIT',
        'src=',
        'True',
        'false',
        'JOIN',
        'UNION',
        'FROM',
        'ORGY ',
        'Like',
        '1=1',
        'TABLE',
        'DROP',
        'TRUNCATE',
        'delete',
        'update',
        'insert',
        'into',
        'ORDER',
        'BY ', 
        'Query',
        'database',
        'user',
        'admin',
        'hostname',
        'tmpdir',
        'datadir',
        'basedir',
        'information',
        'schema',
        'session_user',
        'session',
        'group',
        'concat',
        'coloum',
        'password',
        '0x',
        '<script>',
        '</script>',
        'alert',
        'script',
        'function',
        'window',
        'iframe',
        'document',
        'header',
        'location',
        'cookie',
        '<html>',
        '</html>',
        '<',
        '>',
        '[',
        ']',
        '(',
        ')',
        '|',
        '~',
        '^',
        '-',
        ':',
        ';',
        '!',
        '*',
        '=',
        '--',
        '+',
        '`',
        '%',
        ',',
        '.',
        '#',
        '%23',
        '%20',
        '@',
        '$',
        '()',
        '_',
        '{',
        '}',
        '/'
    );
   
            
      
    $diganti = array(
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        ''
           );
    
    return strtolower(trim(mysqli_real_escape_string($kon, htmlspecialchars(str_ireplace($asli, $diganti, $inputan)))));

};

#fungsi pilter selajutnya pilternostrip untuk keranjang_belanja dan varian dalam keranjang belanja

function pilternostrip ($kon,$inputan) {
    $asli =
    array(
        'SELECT',
        'src=',
        'LIMIT',
        'True',
        'false',
        'JOIN',
        'UNION',
        'FROM',
        'ORGY ',
        'Like',
        '1=1',
        'TABLE',
        'DROP',
        'TRUNCATE',
        'delete',
        'update',
        'insert',
        'into',
        'ORDER',
        'BY ', 
        'Query',
        'database',
        'user',
        'admin',
        'hostname',
        'tmpdir',
        'datadir',
        'basedir',
        'information',
        'schema',
        'session_user',
        'session',
        'group',
        'concat',
        'coloum',
        'password',
        '0x',
        '<script>',
        '</script>',
        'alert',
        'script',
        'function',
        'window',
        'iframe',
        'document',
        'header',
        'location',
        'cookie',
        '<html>',
        '</html>',
        '<',
        '>',
        '[',
        ']',
        '(',
        ')',
        '|',
        '~',
        '^',
        ':',
        ';',
        '!',
        '*',
        '=',
        '--',
        '+',
        '`',
        '%',
        ',',
        '.',
        '#',
        '%23',
        '%20',
        '@',
        '$',
        '()',
        '{',
        '}',
        '/',
        
    );
   
            
      
    $diganti = array(
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        ''
           );
    
    return  strtolower(trim(mysqli_real_escape_string($kon, htmlspecialchars(str_ireplace($asli, $diganti, $inputan)))));
    

};

#fungsi filter selanjutnya filter untuk url

function pilterurl ($kon,$inputan) {
    $asli =
    array(
        'SELECT',
        'src=',
        'LIMIT',
        'True',
        'false',
        'JOIN',
        'UNION',
        'FROM',
        'ORGY ',
        'Like',
        '1=1',
        'TABLE',
        'DROP',
        'TRUNCATE',
        'delete',
        'update',
        'insert',
        'into',
        'ORDER',
        'BY ', 
        'Query',
        'database',
        'user',
        'admin',
        'hostname',
        'tmpdir',
        'datadir',
        'basedir',
        'information',
        'schema',
        'session_user',
        'session',
        'group',
        'concat',
        'coloum',
        'password',
        '0x',
        '<script>',
        '</script>',
        'alert',
        'script',
        'function',
        'window',
        'iframe',
        'document',
        'header',
        'location',
        'cookie',
        '<html>',
        '</html>',
        '<',
        '>',
        '[',
        ']',
        '(',
        ')',
        '|',
        '~',
        '^',
        ';',
        '!',
        '*',
        '=',
        '+',
        '`',
        '%',
        ',',
        '#',
        '%23',
        '%20',
        '@',
        '$',
        '()',
        '{',
        '}',

    );

    $diganti = array(
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        ''
        
           );

        #tidak menggunakan strtlower karena imbb casesencsitife sudah ada fungsi str_ireplace jadi tidak
        return  trim(mysqli_real_escape_string($kon, htmlspecialchars(str_ireplace($asli, $diganti, $inputan))));

 };

#lanjutan function pilterarray
 function pilterarray ($kon,$inputan) {
    $asli =
    array(
        'SELECT',
        'LIMIT',
        'src=',
        'True',
        'false',
        'JOIN',
        'UNION',
        'FROM',
        'ORGY ',
        'Like',
        '1=1',
        'TABLE',
        'DROP',
        'TRUNCATE',
        'delete',
        'update',
        'insert',
        'into',
        'ORDER',
        'BY ', 
        'Query',
        'database',
        'user',
        'admin',
        'hostname',
        'tmpdir',
        'datadir',
        'basedir',
        'information',
        'schema',
        'session_user',
        'session',
        'group',
        'concat',
        'coloum',
        'password',
        '0x',
        '<script>',
        '</script>',
        'alert',
        'script',
        'function',
        'window',
        'iframe',
        'document',
        'header',
        'location',
        'cookie',
        '<html>',
        '</html>',
        '<',
        '>',
        '[',
        ']',
        '(',
        ')',
        '|',
        '~',
        '^',
        '-',
        ':',
        ';',
        '!',
        '*',
        '=',
        '--',
        '+',
        '`',
        '%',
        ',',
        '.',
        '#',
        '%23',
        '%20',
        '@',
        '$',
        '()',
        '_',
        '{',
        '}',
        '/'
    );
   
            
      
    $diganti = array(
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        ''
           );
    
    // Gunakan array_map untuk mengubah setiap elemen dalam array
    $inputan = array_map(function ($i) use ($kon, $asli, $diganti) {
        return strtolower(trim(mysqli_real_escape_string($kon, htmlspecialchars(str_ireplace($asli, $diganti, $i)))));
    }, $inputan);
    
    return $inputan;

};


#selanjutnya filter untuk email 

function piltermail ($kon,$inputan) {
    $asli =
    array(
        'SELECT',
        'LIMIT',
        'src=',
        'True',
        'false',
        'JOIN',
        'UNION',
        'FROM',
        'ORGY ',
        'Like',
        '1=1',
        'TABLE',
        'DROP',
        'TRUNCATE',
        'delete',
        'update',
        'insert',
        'into',
        'ORDER',
        'BY ', 
        'Query',
        'database',
        'user',
        'admin',
        'hostname',
        'tmpdir',
        'datadir',
        'basedir',
        'information',
        'schema',
        'session_user',
        'session',
        'group',
        'concat',
        'coloum',
        'password',
        '0x',
        '<script>',
        '</script>',
        'alert',
        'script',
        'function',
        'window',
        'iframe',
        'document',
        'header',
        'location',
        'cookie',
        '<html>',
        '</html>',
        '<',
        '>',
        '[',
        ']',
        '(',
        ')',
        '|',
        '~',
        '^',
        '-',
        ':',
        ';',
        '!',
        '*',
        '=',
        '--',
        '+',
        '`',
        '%',
        ',',
        '#',
        '%23',
        '%20',
        '$',
        '()',
        '_',
        '{',
        '}',
        '/'
    );
   
            
      
    $diganti = array(
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
        ''
           );
    
    return trim(mysqli_real_escape_string($kon, htmlspecialchars(str_ireplace($asli, $diganti, $inputan))));

};
        

